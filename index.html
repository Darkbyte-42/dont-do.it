<!doctype html>
<html class="no-js" lang="fr">
<head>
	<meta charset="UTF-8">
	<script type='text/javascript' src='http://code.jquery.com/jquery-1.7.js'></script>
	<style type='text/css'>
		body {
			background-color: grey;
		}
		audio { 
			display:none;
		}
	</style>

	<script type='text/javascript'>
		$(window).load(function(){
			var audio;
			var playlist;
			var tracks;
			var current;

			var musicarr = [];


			init();
			function init(){
				current = 0;
				audio = $('audio');
				audio[0].volume = .40;
				len = musicarr.length;

				run("sounds/"+Math.floor((Math.random() * 20) + 1)+".mp3", audio[0]);

				audio[0].addEventListener('ended',function(e){
					current++;
					if(current == len){
						current = 0;
					}
					run("sounds/"+Math.floor((Math.random() * 20) + 1)+".mp3", audio[0]);
				});
			}

			function run(link, player){
				player.src = link;
				audio[0].load();
				audio[0].play();
				$('#playing').html("<ul><li><a>" + link+ "</a></li></ul>");
			}

			function shuffle(array) {
				var currentIndex = array.length, temporaryValue, randomIndex ;

				while (0 !== currentIndex) {

					randomIndex = Math.floor(Math.random() * currentIndex);
					currentIndex -= 1;

					temporaryValue = array[currentIndex];
					array[currentIndex] = array[randomIndex];
					array[randomIndex] = temporaryValue;
				}

				return array;
			}
		});
	</script>
</head>
<body>
	<audio id="audio" preload="auto" tabindex="0" controls="" type="audio/mpeg">
	</audio>
</body>
</html>